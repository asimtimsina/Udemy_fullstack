349. Configuring Express For EJS

create a new folder
initiate the node
install express
install ejs
create a new file index.js


create a general app

app.set to set the view engine to ejs
app.set('view engine', 'ejs')


all static files will be in the  folder named views
and the extension will be .ejs

app.get('/', (req, res) => {
    res.render('home')
})


350. Setting The Views Directory

const path = require('path');
app.set('views', path.join(__dirname, '/views'));

__dirname is the current directory from where the code is being called
and we are joining the views folder to it


351. EJS Interpolation Syntax

<% %> for javascript
<%= %> for javascript with output
<%- %> for javascript with unescaped output


352. Passing Data To Templates

Can use javascript inside the ejs file 
 <h1>The random number is <%= Math.floor((Math.random() *10) +1) %> </h1>

 can also pass data from the index.js file to the ejs file

 app.get('/random', (req, res) => {
    const rand = Math.floor((Math.random() * 10) + 1)
    res.render('random', { rand }) // rand: rand
})

{rand} = {rand: rand}

    <h1>Another random number is <%= rand %> </h1>


353. Subreddit Template Demo

app.get('/r/:subreddit', (req, res) => {
    const { subreddit } = req.params
    res.render('subreddit', { subreddit })
})



354. Conditionals in EJS

<% %> for javascript code
<%= %> for javascript code with output


<% if (rand > 5) { %>
    <h1>Random number is greater than 5</h1>
<% } else { %>
    <h1>Random number is less than 5</h1>
<% } %>



355. Loops In EJS


        <% for (let cat of cats) {%>
            <li>
                <%= cat %>
            </li>
            <% } %>


